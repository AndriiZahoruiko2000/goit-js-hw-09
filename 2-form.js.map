{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\n// =================================================\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const saved = loadFromLS(STORAGE_KEY);\n  if (saved) {\n    form.elements.email.value = saved.email || '';\n    form.elements.message.value = saved.message || '';\n    formData = saved;\n  }\n\n  form.addEventListener('submit', handleFormSubmit);\n  form.addEventListener('input', handleFormInput);\n});\n\n// =================================================\n\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n\n  formData.email = form.elements.email.value;\n  formData.message = form.elements.message.value;\n\n  if (\n    form.elements.email.value.trim() === '' ||\n    form.elements.message.value.trim() === ''\n  ) {\n    alert('Filled all the fileds');\n    return;\n  }\n\n  console.log('Sended', formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  formData.email = '';\n  formData.message = '';\n  form.reset();\n}\n\n// =================================================\n\nfunction handleFormInput(e) {\n  formData.email = form.elements.email.value;\n  formData.message = form.elements.message.value;\n  saveToLS(STORAGE_KEY, formData);\n}\n\n// =================================================\n\nfunction saveToLS(key, value) {\n  const zip = JSON.stringify(value);\n  localStorage.setItem(key, zip);\n}\n\nfunction loadFromLS(key) {\n  const zip = localStorage.getItem(key);\n  if (!zip) return null;\n  return JSON.parse(zip);\n}\n"],"names":["STORAGE_KEY","form","formData","saved","loadFromLS","handleFormSubmit","handleFormInput","saveToLS","key","value","zip"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAIA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAQC,EAAWJ,CAAW,EAChCG,IACFF,EAAK,SAAS,MAAM,MAAQE,EAAM,OAAS,GAC3CF,EAAK,SAAS,QAAQ,MAAQE,EAAM,SAAW,GAC/CD,EAAWC,GAGbF,EAAK,iBAAiB,SAAUI,CAAgB,EAChDJ,EAAK,iBAAiB,QAASK,CAAe,CAChD,CAAC,EAID,SAASD,EAAiB,EAAG,CAM3B,GALA,EAAE,eAAc,EAEhBH,EAAS,MAAQD,EAAK,SAAS,MAAM,MACrCC,EAAS,QAAUD,EAAK,SAAS,QAAQ,MAGvCA,EAAK,SAAS,MAAM,MAAM,KAAM,IAAK,IACrCA,EAAK,SAAS,QAAQ,MAAM,KAAM,IAAK,GACvC,CACA,MAAM,uBAAuB,EAC7B,MACD,CAED,QAAQ,IAAI,SAAUC,CAAQ,EAE9B,aAAa,WAAWF,CAAW,EACnCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBD,EAAK,MAAK,CACZ,CAIA,SAASK,EAAgB,EAAG,CAC1BJ,EAAS,MAAQD,EAAK,SAAS,MAAM,MACrCC,EAAS,QAAUD,EAAK,SAAS,QAAQ,MACzCM,EAASP,EAAaE,CAAQ,CAChC,CAIA,SAASK,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAM,KAAK,UAAUD,CAAK,EAChC,aAAa,QAAQD,EAAKE,CAAG,CAC/B,CAEA,SAASN,EAAWI,EAAK,CACvB,MAAME,EAAM,aAAa,QAAQF,CAAG,EACpC,OAAKE,EACE,KAAK,MAAMA,CAAG,EADJ,IAEnB"}